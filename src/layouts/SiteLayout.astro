---
const {
  title = "St√©phanie Quibel ‚Äî D√©veloppeuse WordPress",
  description = "",
} = Astro.props;
---

<!doctype html>
<html lang="fr" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    {description && <meta name="description" content={description} />}
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@600;700&family=Lato:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ===== Th√®me ===== */
      :root {
        --white: #fff;
        --offwhite: #f8f8f4;
        --gray: #3c394c;
        --green: #799a79;
        --orange: #d98a4d;
        --bg: var(--offwhite);
        --fg: #1d1b26;
        --muted: #5c596e;
        --card: #fff;
        --border: #e8e6ef;
        --link: var(--gray);
        --btn-bg: var(--gray);
        --btn-fg: #fff;
        --shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        /* marge lat√©rale ~50px (r√©duite sur mobile) */
        --page-pad: clamp(16px, 5vw, 50px);
      }
      html[data-theme="dark"] {
        --bg: #23212e;
        --fg: #f4f4f1;
        --muted: #c6c6c1;
        --card: #2a2738;
        --border: #3b3950;
        --link: var(--fg);
        --btn-bg: var(--green);
        --btn-fg: #23212e;
        --shadow: 0 8px 24px rgba(0, 0, 0, 0.28);
      }

      /* ===== Base ===== */
      * {
        box-sizing: border-box;
      }
      html {
        color-scheme: light dark;
      }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--fg);
        font-family:
          "Lato",
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          sans-serif;
        overflow-x: hidden;
      }
      a {
        color: var(--link);
      }

      /* Conteneur pleine largeur avec marge lat√©rale ~50px partout */
      .container {
        width: 100%;
        padding-inline: var(--page-pad);
      }

      /* ===== Header ===== */
      header {
        position: sticky;
        top: 0;
        z-index: 50;
        backdrop-filter: saturate(180%) blur(6px);
        background: color-mix(in oklab, var(--bg) 85%, transparent);
        border-bottom: 1px solid var(--border);
      }
      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        padding-block: 1rem;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        font-weight: 700;
        text-decoration: none;
        color: var(--fg);
      }
      .brand-badge {
        width: 28px;
        height: 28px;
        border-radius: 8px;
        background: var(--green);
        display: grid;
        place-items: center;
        color: #23212e;
        font-weight: 900;
        font-family: "Josefin Sans", sans-serif;
      }
      nav ul {
        display: flex;
        gap: 0.9rem;
        list-style: none;
        padding: 0;
        margin: 0;
      }
      nav a {
        text-decoration: none;
        padding: 0.5rem 0.65rem;
        border-radius: 10px;
      }
      nav a[aria-current="page"] {
        background: var(--card);
        border: 1px solid var(--border);
      }

      /* ===== Boutons ===== */
      .btn {
        display: inline-flex;
        align-items: center;
        gap: 0.55rem;
        padding: 0.62rem 0.9rem;
        border-radius: 12px;
        text-decoration: none;
        border: 1px solid var(--border);
        background: var(--btn-bg);
        color: var(--btn-fg);
      }
      .btn:hover {
        filter: brightness(1.03);
        box-shadow: var(--shadow);
      }
      .btn--ghost {
        background: transparent;
        color: var(--fg);
      }
      .btn--accent {
        background: var(--orange);
        border-color: transparent;
        color: #23212e;
      }

      /* ===== Hero (typographie) ===== */
      .hero {
        padding-block: 2.2rem 1.2rem;
      }
      .hero h1 {
        font-family: "Josefin Sans", sans-serif;
        font-weight: 700;
        margin: 0 0 0.5rem;
      }
      .hero p {
        margin: 0.2rem 0 1rem;
        color: var(--muted);
        max-width: 70ch;
      }

      /* ===== Footer ===== */
      footer {
        border-top: 1px solid var(--border);
        margin-top: 2rem;
      }
      .foot {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
        padding: 0.9rem 0;
        font-size: 0.95rem;
        color: var(--muted);
      }
    </style>

    <script is:inline>
      (function () {
        try {
          const saved = localStorage.getItem("theme");
          if (saved === "light" || saved === "dark") {
            document.documentElement.dataset.theme = saved;
          } else {
            const prefersDark = window.matchMedia(
              "(prefers-color-scheme: dark)"
            ).matches;
            document.documentElement.dataset.theme = prefersDark
              ? "dark"
              : "light";
          }
        } catch {}
      })();
    </script>
  </head>
  <body>
    <header>
      <div class="container nav">
        <a class="brand" href="/"
          ><span class="brand-badge">S</span><span>St√©phanie&nbsp;Quibel</span
          ></a
        >
        <nav aria-label="Navigation principale">
          <ul>
            <li>
              <a
                href="/"
                aria-current={Astro.url.pathname === "/" ? "page" : undefined}
                >Accueil</a
              >
            </li>
            <li>
              <a
                href="/services"
                aria-current={Astro.url.pathname.startsWith("/services")
                  ? "page"
                  : undefined}>Services</a
              >
            </li>
            <li>
              <a
                href="/realisations"
                aria-current={Astro.url.pathname.startsWith("/realisations")
                  ? "page"
                  : undefined}>R√©alisations</a
              >
            </li>
            <li>
              <a
                href="/blog"
                aria-current={Astro.url.pathname.startsWith("/blog")
                  ? "page"
                  : undefined}>Parlons web</a
              >
            </li>
            <li><a href="/#a-propos">√Ä propos</a></li>
            <li><a href="/#contact" class="btn btn--ghost">Contact</a></li>
          </ul>
        </nav>
        <button
          id="theme-toggle"
          class="btn btn--ghost"
          type="button"
          aria-label="Basculer clair/sombre">üåì</button
        >
      </div>
    </header>

    <!-- HERO : pleine largeur avec m√™me marge lat√©rale -->
    <div class="container">
      <slot name="hero" />
    </div>

    <!-- CONTENU : pleine largeur avec m√™me marge lat√©rale -->
    <main class="container">
      <slot />
    </main>

    <footer>
      <div class="container foot">
        <span>¬© {new Date().getFullYear()} St√©phanie Quibel</span>
        <span><a href="/mentions-legales">Mentions l√©gales</a></span>
      </div>
    </footer>

    <script is:inline>
      document.getElementById("theme-toggle")?.addEventListener("click", () => {
        const el = document.documentElement;
        el.dataset.theme = el.dataset.theme === "dark" ? "light" : "dark";
        try {
          localStorage.setItem("theme", el.dataset.theme);
        } catch {}
      });
    </script>
  </body>
</html>
