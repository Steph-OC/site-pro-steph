@layer layout {
  /* === Gabarits de conteneur GLOBAUX (toutes pages) === */
  :root {
    /* largeur commune pour header, main, sections… */
    --container: clamp(1120px, 96vw, 1440px);
    --container-xl: clamp(1200px, 96vw, 1536px);
    --container-pad: 20px;
    /* Rythme vertical global */
    --section-gap: clamp(64px, 8vw, 120px);
    --section-pad: clamp(24px, 3.5vw, 40px);
  }

  .container {
    max-width: var(--container);
    margin-inline: auto;
    padding-inline: var(--container-pad);
  }
  .container--xl {
    max-width: var(--container-xl);
  }

  /* === Rythme vertical GLOBAL (toutes pages) === */
  main > section,
  main > * > section {
    position: relative;
    z-index: 0;
    margin: 0;
    padding-block: var(--section-pad);
    background: transparent;
    border: 0;
    overflow: visible;
  }

  /* Espacement entre sections / wrappers */
  main > section + section,
  main > * > section + section,
  main > * + * {
    margin-top: var(--section-gap);
  }

  /* --- Sections avec halo --- */
  .section--halo {
    position: relative;
    z-index: 2;
    isolation: isolate;
    overflow: visible;
  }
  .section--halo::before {
    z-index: 0;
    pointer-events: none;
    -webkit-mask-image: radial-gradient(
      120% 110% at 50% 55%,
      #000 60%,
      transparent 100%
    );
    mask-image: radial-gradient(
      120% 110% at 50% 55%,
      #000 60%,
      transparent 100%
    );
  }
  .section--halo > * {
    position: relative;
    z-index: 1;
  }

  /* Variantes sans décor */
  .section--alt,
  .section--stripe,
  .section--cut,
  .section--aurora-corners {
    background: transparent !important;
    border: 0 !important;
  }
  .section--stripe::before,
  .section--cut::before,
  .section--aurora-corners::before,
  .section--aurora-corners::after {
    content: none !important;
  }

  /* Anti-clipping agressif si besoin */
  .no-section-bg,
  .no-section-bg * {
    overflow: visible !important;
  }
  .no-section-bg > section,
  .no-section-bg > * > section,
  .no-section-bg > section > .container,
  .no-section-bg > * > section > .container {
    background: transparent !important;
    box-shadow: none !important;
    border: 0 !important;
  }
  .no-section-bg > section::before,
  .no-section-bg > section::after,
  .no-section-bg > * > section::before,
  .no-section-bg > * > section::after,
  .no-section-bg > section > .container::before,
  .no-section-bg > section > .container::after,
  .no-section-bg > * > section > .container::before,
  .no-section-bg > * > section > .container::after {
    content: none !important;
    background: none !important;
  }

  /* Marge spécifique avant la 1ʳᵉ section de la Home */
  #home > section:first-of-type {
    margin-top: clamp(60px, 10vw, 200px);
  }
}
